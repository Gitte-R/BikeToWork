@page
@model BikeToWork.Pages.Highscores.IndexModel

@{
    ViewData["Title"] = "Index";
}

<div class="text-center" >
    <img src="~/images/Podium.jpg" style="max-height: 250px; max-width: 100%"  />
</div>
<div class="text-center">
    <h1>Highcores of <strong >Bike To Work</strong></h1>
    <form asp-page="./Index" method="get">
        <div class="form-actions no-color" style="max-width: 15%; display: inline-block;">
            <select onchange="this.form.submit()" asp-for="participant.bikeClass" name="SearchID" class="form-control" value="@Model.currentFilter">
                <option>---Filter by Bike Class---</option>
                @foreach (var bikeClass in Model.listOfBikeClasses)
                {
                    <option>@bikeClass</option>
                }
                <option value="">All bike classes</option>
            </select>
        </div>
    </form>
</div>
<table class="table">
    <thead>
        <tr>
            <th>
                Ranking
            </th>
            <th>
                Name of participant
            </th>
            <th>
                @Html.DisplayNameFor(modelItem => Model.listOfViewParticipant[0].totalDistance)
            </th>
            <th>
                @Html.DisplayNameFor(modelItem => Model.listOfViewParticipant[0].numberOfBikeRides)
            </th>
            <th>
                <div>
                    <label asp-for="participant.bikeClass" class="control-label"></label>
                    <span asp-validation-for="participant.bikeClass" class="text-danger"></span>
                </div>
            </th>
        </tr>
    </thead>
    <tbody>
        @for (int i = 0; i < Model.listOfViewParticipant.Count(); i++)
        {
                <tr style="vertical-align:middle">
                    <td>
                        @if (i < 3)
                    {
                        <img style="height:100px" src=@($"images/{i+1}stPlace.jpg")>
                    }
                    </td>
                    <td>
                        @String.Concat(Model.listOfViewParticipant[i].firstName, " ", Model.listOfViewParticipant[i].lastName)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => Model.listOfViewParticipant[i].totalDistance)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => Model.listOfViewParticipant[i].numberOfBikeRides)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => Model.listOfViewParticipant[i].bikeClass)
                    </td>
                </tr>
        }
    </tbody>
</table>

<a asp-page="./Index">Back to full List</a>


@*
have en gennemsnits distance?
Kan man have alle viewparticipants men kun medalje på første 3? 
 Så kan man se hvem er runner op og hvor tæt på.
 redirekte til Index?
 custom tag helper med billeder af bike class. Måske også på andre sider som edit/create.
 Sætte et tomt billede hvis i > 3. samme størrelse billede som de andre.
 *@